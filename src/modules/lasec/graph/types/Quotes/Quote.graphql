type LasecCompany {
  id: String
  tradingName: String
}

type LasecCustomer {
  id: String
  fullName: String
}

type LasecQuoteItem {
  id: ObjID
  quote_item_id: String
  product_id: String
  code: String
  title: String
  productClass: String
  productClassDescription: String
  quantity: Float
  price: Float
  unit_price: Float
  discount: Float
  subtotal: Float
  totalVATExclusive: Float
  totalVATInclusive: Float
  product: Product
  VATRate: Float
  GP: Float
  header: LasecQuoteHeader
  note: String
  quote_option_id: String  
  content: Any
  meta: Any
}

input LasecQuoteItemInput {
  id: ObjID
  quote_item_id: String
  code: String
  title: String
  quantity: Float
  price: Float
  discount: Float
  subtotal: Float
  totalVATExclusive: Float
  totalVATInclusive: Float
  VATRate: Float
  GP: Float
  header_id: String 
  note: String
  quote_option_id: String
}

type LasecQuoteHeader {
  id: ObjID
  headerId: String
  text: String
  quoteItems: [LasecQuoteItem]
}

type QuoteReminder {
  id: ObjID
  quote: Quote
  who: [User]
  next: Date
  actionType: String
  actioned: Boolean
  result: Any
  via: [String]
  text: String
  importance: String
  meta: Any
}

type QuoteTimeLine {
  id: ObjID
  what: String
  when: Date
  actionType: String
  who: User
  notes: String
  reminder: QuoteReminder
}

type QuoteTotals {
  totalVATExclusive: Float
  totalVAT: Float
  totalVATInclusive: Float
  totalDiscount: Float
  totalDiscountPercent: Float
  GP: Float
  actualGP: Float
}

type LasecQuoteOption {
  id: String
  quote_option_id: String
  quote_id: String
  option_name: String
  incoterm: String
  named_place: String
  transport_mode: String
  currency: String
  active: Boolean
  lineItems: [LasecQuoteItem]
}

type Quote {
  id: String
  code: String
  statusGroup: String
  statusGroupName: String
  status: String
  statusName: String
  salesRep: User
  salesTeam: Team
  allowedStatus: [String]
  customer: User  
  company: Organization
  totals: QuoteTotals
  totalVATExclusive: Float
  totalVAT: Float
  totalVATInclusive: Float
  GP: Float
  actualGP: Float
  created: Date
  modified: Date
  expirationDate: Date
  note: String
  active_option: String
  options: [LasecQuoteOption]
  headers: [LasecQuoteHeader]
  lineItems: [LasecQuoteItem]
  timeline: [QuoteTimeLine]
  lastAction: QuoteTimeLine
  meta: Any
  productClass: String
  repCode: String
  quoteType: String
}

type LasecQuoteDashboardSummary {
  key: String
  title: String
  good: Int
  naughty: Int
  category: String
  quotes: [Quote]
}

enum LasecChartType {
  FUNNEL
  PIE
  AREA
  LINE
  RADAR
  RADIAL
  SCATTER
  TREEMAP
  COMPOSED
}

type LasecChart {
  chartType: LasecChartType
  data: Any
  options: Any
  key: String
}

type DateRange {
  startDate: Date
  endDate: Date
}

type LasecNextActionFilter {
  dateRange: DateRange
  actioned: Boolean
  actionType: String
}

type LasecUserNextActions {
  owner: User
  filter: LasecNextActionFilter
  actions: [QuoteReminder]
}

type LaseDashboardUserNextActions {
  owner: User
  filter: LasecNextActionFilter
  actions: [QuoteReminder]
}

type LasecQuoteDashboardCharts {
  quoteStatusFunnel: LasecChart
  quoteStatusPie: LasecChart
  quoteINVPie: LasecChart
  quoteISOPie: LasecChart
  quoteStatusComposed: LasecChart
}

type LasecProductDashboardCharts {
  quoteProductFunnel: LasecChart
  quoteProductPie: LasecChart
  quoteINVPie: LasecChart
  quoteISOPie: LasecChart
  quoteStatusComposed: LasecChart
}

type LasecQuoteDashboard {
  id: String
  period: String
  periodLabel: String
  periodStart: Date
  periodEnd: Date
  repIds: [String]
  agentSelection: String
  teamIds: [String]
  target: Float
  targetPercent: Float
  totalQuotes: Int
  totalInvoiced: Float
  totalBad: Int
  LasecGetDashboard: Float
  statusSummary: [LasecQuoteDashboardSummary]
  quotes: [Quote]
  nextActions: LasecUserNextActions
  charts: LasecQuoteDashboardCharts
}

type LasecProductDashboard {
  id: String
  period: String
  periodLabel: String
  periodStart: Date
  periodEnd: Date
  repIds: [String]
  agentSelection: String
  teamIds: [String]
  target: Float
  targetPercent: Float
  totalQuotes: Int
  totalBad: Int
  productSummary: [LasecQuoteDashboardSummary]
  quotes: [Quote]
  nextActions: LasecUserNextActions
  charts: LasecProductDashboardCharts
}

type LasecQuoteStatus {
  id: String
  status: String
  customer: LasecCustomer
  timeline: [QuoteTimeLine]
}

input LasecQuoteStatusUpdate {
  nextAction: String
  reason: String
  reminder: Int
  note: String
}

type LasecQuoteStatusUpdateResult {
  quote: Quote
  success: Boolean
  message: String
}

input LasecQuoteQueryInput {
  period: String
  periodStart: Date
  periodEnd: Date
  agentSelection: String
  repIds: [String]
  teamIds: [String]
  status: [String]
  productClass: [String]
  options: Any
}

enum QuoteFilterType {
  Recent
  ByClient
  ByStatus
}

input LasecFilteredQuoteQueryInput {
  filterType: QuoteFilterType
}

enum QuoteHeaderAction {
  NEW
  ADD_ITEM
  REMOVE_ITEM
  REMOVE_HEADER
}

input LasecQuoteHeaderInput {
  quote_header_id: String
  quote_item_id: String
  header_text: String
  action: QuoteHeaderAction!
}

type LasecCustomerEnquiry {
  id: String
}

type OutlookSyncResponse {
  success: String
  message: String
}

type SimpleResponse {
  success: String
  message: String
}

type PagedCRMQuote {
  search: String
  filterBy: String
  paging: PagingResult
  quotes: [Quote]
}

type SalesOrderLineItem {
  id: String
  line: Int
  productCode: String
  productDescription: String
  unitOfMeasure: String
  price: Float
  totalPrice: Float
  orderQty: Int
  shippedQty: Int
  backOrderQty: Int
  reservedQty: Int
  comment: String
  image: String
}

type SalesOrderComment {
  comment: String
}

type SalsOrderDetails {
  lineItems: [SalesOrderLineItem]
  comments: [SalesOrderComment]
}

type Invoice {
  id: String
  invoiceDate: String
  quoteDate: String
  quoteId: String
  customer: String
  client: String
  dispatches: String
  accountNumber: String
  salesTeamId: String
  poNumber: String
  value: Int
  isoNumber: String
}

type SalesHistory {
  id: String
  orderType: String
  quoteDate: String
  quoteNumber: String
  orderDate: String
  iso: String
  dispatches: String
  customer: String
  client: String
  poNumber: Int
  value: Int
  salesTeamId: String
}

type PagedCRMSalesOrders {
  paging: PagingResult
  salesOrders: [SalesOrder]
}

type PurchaseOrder {
  id: String
  dueDate: Date
  entryDate: Date
  lastUpdateDate: Date
  poNumber: String
  shipInfo: String
  orderQuantity: String
  receiptedQuantity: Int
}

type PagedCRMPurchaseOrders {
  paging: PagingResult
  purchaseOrders: [PurchaseOrder]
}

type PurchaseOrderItem {
  code: String
  description: String
  orderQty: String
  etaDate: Date
}

type PagedCRMInvoices {
  paging: PagingResult
  invoices: [Invoice]
}
type PagedCRMSalesHistory {
  paging: PagingResult
  salesHistory: [SalesHistory]
}

type SalesOrderDocuments {
  id: String
  name: String
  url: String
}

type SalesOrderCommentResponse {
  orderId: String
  comments: [CRMSaleOrderComment]
}

type CRMSaleOrderComment {
  id: String
  who: User
  comment: String
  when: Date
}

type LasecQuoteComment {
  id: String
  who: User
  comment: String
  when: Date
}

type SalesOrderDocumentContent {
  id: ObjID
  slug: String!
  topics: [String]
  title: String!
  content: String!
  createdAt: Date
  updatedAt: Date
  createdBy: User!
  updatedBy: User!
  published: Boolean
  comments: [Comment]
}

input SalesOrderContentInput {
  slug: String!
  topics: [String]
  title: String!
  content: String!
  createdAt: Date
  updatedAt: Date
  createdBy: ObjID
  updatedBy: ObjID
  published: Boolean
}

type FreightRequestProductDetail {
  code: String
  description: String
  unitOfMeasure: String
  sellingPrice: Float
  qty: Int
  length: Float
  width: Float
  height: Float
  volume: Float
}

type FreightRequestQuoteDetail {
  id: String
  email: String
  communicationMethod: String
  options: [FreightRequestOption]
  productDetails: [FreightRequestProductDetail]
}

type FreightRequestOption {
  name: String
  transportMode: String
  incoTerm: String
  place: String
  fromSA: Boolean
  vatExempt: Boolean
  totalValue: String
  companyName: String
  streetAddress: String
  suburb: String
  city: String
  province: String
  country: String
  freightFor: String
  offloadRequired: Boolean
  hazardous: String
  refrigerationRequired: Boolean
  containsLithium: Boolean
  sample: String
  additionalDetails: String
}

input FreightRequestOptionInput {
  name: String
  transportMode: String
  incoTerm: String
  namedPlace: String
  vatExempt: Boolean
  fromSA: Boolean
  totalValue: String
  companyName: String
  streetAddress: String
  suburb: String
  city: String
  province: String
  country: String
  freightFor: String
  offloadRequired: Boolean
  hazardous: String
  refrigerationRequired: Boolean
  containsLithium: Boolean
  sample: String
  additionalDetails: String
  productDetails: Any
}

input FreightRequestProductDetailInput {
  code: String
  description: String
  unitOfMeasure: String
  sellingPrice: Float
  qty: Int
  length: Float
  width: Float
  height: Float
  volume: Float
}

input FreightReqestDetailInput {
  quoteId: String
  email: String
  communicationMethod: String
  options: [FreightRequestOptionInput]
  productDetails: [FreightRequestProductDetailInput]
}

type QuoteClients {
  id: String
  clientStatus: String
  clientName: String
  customerName: String
  repCode: String
}

type PagedQuoteClients {
  search: String
  repCode: String
  paging: PagingResult
  clients: [QuoteClients]
}

input LasecNewQuoteInput {
  clientId: String
  repCode: String
}

type LasecNewQuoteResponse {
  success: Boolean
  message: String
  quoteId: String
}

type QuoteDuplicateResponse {
  success: Boolean
  message: String
  quoteId: String
}

extend type Query {
  LasecGetQuoteList(search: String): [Quote]
  LasecGetCRMQuoteList(
    search: String!
    paging: PagingRequest
    filterBy: String
    periodStart: String
    periodEnd: String
    quoteDate: String
    iter: Int
  ): PagedCRMQuote
  LasecGetCRMClientQuoteList(
    clientId: String
    search: String!
    paging: PagingRequest
    filterBy: String
    periodStart: String
    periodEnd: String
    quoteDate: String
    iter: Int
  ): PagedCRMQuote
  LasecGetDashboard(dashparams: LasecQuoteQueryInput): LasecQuoteDashboard
  LasecGetProductDashboard(
    dashparams: LasecQuoteQueryInput
  ): LasecProductDashboard

  LasecGetQuoteById(quote_id: String!, option_id: String): Quote

  LasecGetQuoteComments(quote_id: String!): [LasecQuoteComment]

  LasecGetFilteredQuotes(filterparams: LasecFilteredQuoteQueryInput): [Quote]

  LasecGetCRMSalesOrders(
    productId: String
    paging: PagingRequest
  ): PagedCRMSalesOrders

  # PURCHASE ORDERS

  LasecGetCRMPurchaseOrders(
    productId: String
    paging: PagingRequest
  ): PagedCRMPurchaseOrders

  LasecGetCRMPurchaseOrderDetail(orderId: String!): [PurchaseOrderItem]

  #

  LasecGetCRMClientSalesOrders(
    clientId: String
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    periodStart: String
    periodEnd: String
    dateFilter: String
    iter: Int
  ): PagedCRMSalesOrders
  LasecGetSaleOrderComments(orderId: String!): SalesOrderCommentResponse
  LasecGetSaleOrderDocument(ids: [String]): [SalesOrderDocuments]
  LasecGetSalesOrderDocumentBySlug(slug: String!): SalesOrderDocumentContent
  LasecGetPagedCRMSalesOrders(
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    customer: [String]
    client: [String]
    orderStatus: String
    periodStart: String
    periodEnd: String
    dateFilter: String
    iter: Int
  ): PagedCRMSalesOrders
  LasecGetISODetail(orderId: String!): SalsOrderDetails
  LasecGetCRMClientInvoices(
    clientId: String
    salesTeamId: String
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    periodStart: String
    periodEnd: String
    dateFilter: String
    iter: Int
  ): PagedCRMInvoices
  LasecGetCRMInvoices(
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    periodStart: String
    periodEnd: String
    dateFilter: String
    iter: Int
  ): PagedCRMInvoices
  LasecGetCRMClientSalesHistory(
    clientId: String
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    periodStart: String
    periodEnd: String
    iter: Int
  ): PagedCRMSalesHistory
  LasecGetCRMSalesHistory(
    clientId: String
    search: String!
    paging: PagingRequest
    filterBy: String
    filter: String
    periodStart: String
    periodEnd: String
    iter: Int
  ): PagedCRMSalesHistory
  LasecGetFreightRequestQuoteDetail(quoteId: String!): FreightRequestQuoteDetail
}

extend type Mutation {
  LasecSetQuoteHeader(
    quote_id: String!
    input: LasecQuoteHeaderInput
  ): LasecQuoteHeader
  LasecUpdateQuoteStatus(
    quote_id: String!
    input: LasecQuoteStatusUpdate
  ): LasecQuoteStatusUpdateResult
  LasecCreateClientEnquiry(customerId: String!): LasecCustomerEnquiry
  SynchronizeNextActionsToOutloook(nextActions: Any!): OutlookSyncResponse
  LasecMarkNextActionAsActioned(id: String!): SimpleResponse
  LasecSendQuoteEmail(
    code: String!
    email: String!
    subject: String!
    message: String!
  ): SimpleResponse
  LasecDeleteSaleOrderDocument(id: String): SimpleResponse
  LasecCRMSaveSaleOrderComment(
    orderId: String!
    comment: String!
  ): SimpleResponse
  LasecUploadSaleOrderDocument(
    createInput: SalesOrderContentInput!
  ): SalesOrderDocumentContent
  LasecCRMUpdateFreightRequestDetails(
    freightRequestDetailInput: FreightReqestDetailInput!
  ): SimpleResponse

  LasecCRMDuplicateQuoteForClient(
    quoteId: String!
    clientId: String!
  ): QuoteDuplicateResponse

  LasecCreateNewQuoteForClient(
    newQuoteInput: LasecNewQuoteInput
  ): LasecNewQuoteResponse

  LasecDuplicateQuoteOption(quote_id: String, option_id: String): LasecQuoteOption

  LasecQuoteCreateSectionHeader(quote_id: String, header: String): LasecQuoteHeader

  LasecQuoteUpdateSectionHeader(quote_id: String, header_id: String, header: String): LasecQuoteHeader

  LasecQuoteDeleteSectionHeader(quote_id: String, header_id: String): SimpleResponse

  LasecQuoteAddProductToQuote(quote_id: String, product_id: String, option_id: String): LasecQuoteItem

  LasecQuoteItemUpdate(quote_id: String, quote_item_id: String, qoute_item_input: LasecQuoteItemInput): LasecQuoteItem

  LasecQuoteDeleteQuoteItem(quote_item_id: String): SimpleResponse

  LasecSaveQuoteComment(quoteId: String!, comment: String!, commentId: String): SimpleResponse
}
